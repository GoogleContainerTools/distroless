schemaVersion: "2.0.0"
commandTests:
  - name: java
    command: "/usr/lib/jvm/java-11-openjdk-amd64/bin/java"
    args: ["-version"]
    expectedError: ['openjdk version "11\.*']
  - name: java-symlink
    command: "/usr/bin/java"
    args: ["-version"]
    expectedError: ['openjdk version "11\.*']
fileExistenceTests:
  - name: certs
    path: "/etc/ssl/certs/java/cacerts"
    shouldExist: true
  - name: busybox
    path: "/busybox/sh"
    shouldExist: true
  - name: no-shell
    path: "/bin/sh"
    shouldExist: false
metadataTest:
  labels:
    - key: 'jdk.vendor'
      value: 'openjdk'
    - key: 'jdk.version'
      value: '11.0.1'
    # isRegex requires container-structure-test v1.7.0
    #- key: 'jdk.source'
    #  value: 'openjdk-11-jre-headless 11.0.1\+*'
    #  isRegex: true
  env:
    - key: 'JAVA_VERSION'
      value: '11.0.1'

